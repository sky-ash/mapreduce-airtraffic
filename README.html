<!DOCTYPE html><html><head>
      <title>README</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\lghgh\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.18\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="hadoop-mapreduce-analyse-von-flugbewegungen">Hadoop MapReduce Analyse von Flugbewegungen </h1>
<p>Dieses Projekt analysiert Flugbewegungen von Verkehrsmaschinen europäischer Flughäfen für die Jahre 2019 und 2024.</p>
<p>Ziel ist es, die Veränderung der Flugbewegungen von 2019 nach 2024 pro Flughafen und pro Land, in denen die Flughäfen liegen, zu berechnen und die Ergebnisse absteigend nach prozentualer Änderung zu sortieren.</p>
<h2 id="datensatz">Datensatz </h2>
<p>Grundlage ist die CSV-Datei <strong><a href="https://github.com/sky-ash/mapreduce-airtraffic/blob/main/input/airport_traffic.csv">airport_traffic.csv</a></strong>, in der detaillierte Informationen über Flugbewegungen per Flughafen und Tag enthalten sind.</p>
<details>
	<summary>
		<b>Die ersten 10 Zeilen der Datei</b>
	</summary>
<pre data-role="codeBlock" data-info="" class="language-text"><code>YEAR,MONTH_NUM,MONTH_MON,FLT_DATE,APT_ICAO,APT_NAME,STATE_NAME,FLT_DEP_1,FLT_ARR_1,FLT_TOT_1,FLT_DEP_IFR_2,FLT_ARR_IFR_2,FLT_TOT_IFR_2
2019,01,JAN,01-01-19,LATI,Tirana,Albania,29,26,55,,,
2019,01,JAN,01-01-19,UDYZ,Yerevan,Armenia,29,33,62,,,
2019,01,JAN,01-01-19,LOWG,Graz,Austria,5,7,12,,,
2019,01,JAN,01-01-19,LOWI,Innsbruck,Austria,28,26,54,,,
2019,01,JAN,01-01-19,LOWK,Klagenfurt,Austria,4,4,8,,,
2019,01,JAN,01-01-19,LOWL,Linz,Austria,1,2,3,,,
2019,01,JAN,01-01-19,LOWS,Salzburg,Austria,22,26,48,,,
2019,01,JAN,01-01-19,LOWW,Vienna,Austria,257,232,489,257,230,487
[...]
</code></pre></details>
<ul>
<li>Die Datei enthält <strong>228.729 Zeilen</strong> mit Flugverkehrsdaten einzelner Flughäfen für die Jahre <strong>2019 und 2024</strong>.</li>
<li>Nur Datensätze mit einem gesetzten Wert in der Spalte <code>FLT_TOT_IFR_2</code> werden für die Analyse berücksichtigt, da diese die bereits zusammengezählten (total) <strong>Flugbewegungen mit Verkehrsmaschinen (IFR)</strong> darstellen.</li>
<li>Dies entspricht <strong>72.627 Zeilen (ca. 32%)</strong>, welche sich auf Daten zu Passagiers-Flughäfen begrenzen.</li>
</ul>
<details>
<summary>
	<b>Übersicht über die Felder der CSV</b>
</summary>
<p>Die folgende Tabelle gibt eine Übersicht über alle Spalten der CSV und die Anzahl fehlender Einträge:</p>
<table>
<thead>
<tr>
<th>Spalte</th>
<th>Beschreibung</th>
<th>Werte / Beispielwerte</th>
<th>Fehlende Werte</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>YEAR</code></td>
<td>Jahr des Fluges</td>
<td>2019, 2024</td>
<td>0</td>
</tr>
<tr>
<td><code>MONTH_NUM</code></td>
<td>Monat (numerisch)</td>
<td>1–12</td>
<td>0</td>
</tr>
<tr>
<td><code>MONTH_MON</code></td>
<td>Monat (Abkürzung, engl.)</td>
<td>JAN–DEC</td>
<td>0</td>
</tr>
<tr>
<td><code>FLT_DATE</code></td>
<td>Datum des Fluges</td>
<td>z. B. 01-01-19</td>
<td>0</td>
</tr>
<tr>
<td><code>APT_ICAO</code></td>
<td>ICAO-Code des Flughafens</td>
<td>z. B. LATI, UDYZ, LOWG</td>
<td>0</td>
</tr>
<tr>
<td><code>APT_NAME</code></td>
<td>Name des Flughafens</td>
<td>z. B. Tirana, Yerevan, Graz</td>
<td>0</td>
</tr>
<tr>
<td><code>STATE_NAME</code></td>
<td>Land des Flughafens</td>
<td>z. B. Albania, Austria, France</td>
<td>0</td>
</tr>
<tr>
<td><code>FLT_DEP_1</code></td>
<td>Abflüge (alle Flüge)</td>
<td>0–847</td>
<td>0</td>
</tr>
<tr>
<td><code>FLT_ARR_1</code></td>
<td>Ankünfte (alle Flüge)</td>
<td>0–813</td>
<td>0</td>
</tr>
<tr>
<td><code>FLT_TOT_1</code></td>
<td>Gesamtbewegungen (alle Flüge)</td>
<td>0–1628</td>
<td>0</td>
</tr>
<tr>
<td><code>FLT_DEP_IFR_2</code></td>
<td>Abflüge (Verkehrsmaschinen, IFR)</td>
<td>0–852</td>
<td>156.102</td>
</tr>
<tr>
<td><code>FLT_ARR_IFR_2</code></td>
<td>Ankünfte (Verkehrsmaschinen, IFR)</td>
<td>0–819</td>
<td>156.102</td>
</tr>
<tr>
<td><code>FLT_TOT_IFR_2</code></td>
<td>Gesamtbewegungen (Verkehrsmaschinen, IFR)</td>
<td>0–1628</td>
<td>156.102</td>
</tr>
</tbody>
</table>
</details>
<p>Die Davon relevanten Spalten sind <code>YEAR</code>, <code>APT_ICAO</code>, <code>STATE_NAME</code> und <code>FLT_TOT_IFR_2</code></p>
<h2 id="projektstruktur">Projektstruktur </h2>
<pre data-role="codeBlock" data-info="" class="language-text"><code>mapreduce-airtraffic/
├── input/
│   ├── airport_traffic.csv
├── src/main/java/dhbw/bigdata/
│   ├── Main.java                 
│   ├── utils/
│   │    ├── MapReduceJob.java  
│   ├── preprocessing/           
│   │    ├── PrepMapper.java
│   │    ├── PrepCombiner.java
│   │    └── PrepReducer.java
│   ├── countries/               
│   │    ├── CountryMapper.java
│   │    ├── CountryReducer.java
│   │    ├── CPercentageMapper.java
│   │    └── CPercentageReducer.java
│   └── airports/                
│        ├── APercentageMapper.java
│        └── APercentageReducer.java
├── pom.xml
└── README.md                     
</code></pre><h3 id="enthaltene-packages">Enthaltene Packages </h3>
<table>
	<thead>
		<tr>
			<th>Package</th>
			<th>Aufgabe</th>
			<!--<th>Klassen</th>-->
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>preprocessing/</code></td>
			<td>
			Filtern der CSV &amp; Aggregation der Flugbewegungen pro Flughafen (inkl. Land). Fasst die jeweiligen Werte von 2019 und 2024 in einer Zeile zusammen.</td>
			<!--<td><code>PrepMapper</code>, <code>PrepCombiner</code>, <code>PrepReducer</code></td>-->
		</tr>
		<tr>
			<td><code>countries/</code></td>
			<td>Aggregation der Flugbewegungen pro Land &amp; Berechnung der prozentualen Veränderung. Sortierte Ausgabe der Länder.</td>
			<!--<td><code>CountryMapper</code>, <code>CountryReducer</code>, <code>CPercentageMapper</code>, <code>CPercentageReducer</code></td>-->
		</tr>
		<tr>
			<td><code>airports/</code></td>
			<td>Mapping nach prozentualer Änderung. Sortierte Ausgabe mit Flughafen als Key.</td>
			<!--<td><code>APercentageMapper</code>, <code>APercentageReducer</code></td>-->
		</tr>
		<tr>
			<td><code>utils/</code></td>
			<td><code>utils.MapReduceJob</code>: Definiert Mapper, Reducer und Combiner, Input- und Output-Pfade, Output-Key- und Value-Klassen. Objekte dieser Klasse können mit <code>.run()</code> ausgeführt werden.</td>
			<!--<td><code>MapReduceJob</code></td>-->
		</tr>
	</tbody>
</table>
<h3 id="weitere-dateien-in-diesem-repository">Weitere Dateien in diesem Repository </h3>
<pre data-role="codeBlock" data-info="" class="language-text"><code>├── output/
│   ├── preprocessing/part-r-0000
│   ├── temp/part-r-0000
│   ├── countries/part-r-0000
│   └── airports/part-r-0000
└── airtraffic.jar
</code></pre><ul>
<li><strong><code>/output/</code></strong>: Verzeichnisse Analog zu denen im HDFS</li>
<li><img src="public/hdfs_output_directories.png" alt="output_dirs_screenshot"></li>
<li><strong><code>airtraffic.jar</code></strong>: vorkompilierte JAR-Datei des Projekts</li>
</ul>
<h2 id="anleitung-zur-verwendung-des-sourcecodes">Anleitung zur Verwendung des Sourcecodes </h2>
<ol>
<li>repository clonen (oder ZIP herunterladen und entpacken) &amp; in das Projektverzeichnis wechseln</li>
</ol>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">git</span> clone https://github.com/sky-ash/mapreduce-airtraffic.git
<span class="token builtin class-name">cd</span> mapreduce-airtraffic
</code></pre><ol start="2">
<li>JAR-Datei kompilieren
<ul>
<li>es steht bereits eine vorkompilierte .jar Datei im repository zur verfuegung, deshalb ist dieser schritt nicht zwingend notwendig.</li>
</ul>
</li>
</ol>
<ul>
<li><strong>Prerequisites:</strong> <code>maven</code> muss installiert sein</li>
</ul>
<pre data-role="codeBlock" data-info="" class="language-text"><code>mvn clean package
</code></pre><ol start="3">
<li>(bei Lokaler ausführung) Hadoop starten
<ul>
<li>insofern Hadoop bereits korrekt aufgesetzt wurde:</li>
</ul>
</li>
</ol>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>start-dfs.sh
start-yarn.sh
</code></pre><ol start="4">
<li>CSV-Datei in HDFS laden:
<ul>
<li>Da der Preprocessing-Job Standardmaessig nach der Datei im <code>/input/</code>-Directory auf HDFS schaut, sollte sie dort abgelegt werden.</li>
<li>davor muss dieses verzeichnis erstellt werden</li>
</ul>
</li>
</ol>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>hdfs dfs <span class="token parameter variable">-mkdir</span> /input
hdfs dfs <span class="token parameter variable">-put</span> data/airport_traffic.csv /input
</code></pre><ol start="5">
<li><code>/output/</code>-Pfade entfernen
<ul>
<li>Die vom Programm benoetigten Verzeichnisse muessen frei sein. Deshalb  löschen wir diese:</li>
</ul>
</li>
</ol>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>hdfs dfs <span class="token parameter variable">-mkdir</span> /output/preprocessing/
hdfs dfs <span class="token parameter variable">-mkdir</span> /output/temp/
hdfs dfs <span class="token parameter variable">-mkdir</span> /output/countries/
hdfs dfs <span class="token parameter variable">-mkdir</span> /output/airports/
</code></pre><ul>
<li>alternativ kann auch das <code>/output/</code>-Verzeichnis als ganzes gelöscht werden:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>hdfs dfs <span class="token parameter variable">-rm</span> <span class="token parameter variable">-r</span> /output/
</code></pre><ol start="6">
<li>Ausführung</li>
</ol>
<ul>
<li>Nun muss nurnoch die JAR-Datei ausgeführt werden.</li>
<li>Da alle Input- und Output-Pfade der einzelnen MapReduce Jobs als Standardvariablen vom Code bestimmt werden muss nichts weiter spezifiziert werden.</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>hadoop jar airtraffic.jar 
</code></pre><p>oder, falls in Schritt 2 selbst kompiliert wurde:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>hadoop jar target/airtraffic-3.7-final.jar 
</code></pre><ul>
<li>Die Klasse "Main" startet automatisch und fuehrt alle MapReduce Jobs in der richtigen Reihenfolge durch. Daraufhin befinden sich die finalen Analyse-Ergebnisse im HDFS unter:</li>
<li><code>/output/countries/part-r-00000</code></li>
<li><code>/output/airports/part-r-00000</code></li>
</ul>
<h2 id="funktionsweise-des-codes">Funktionsweise des Codes </h2>
<p>Im Folgenden wird Schritt für Schritt erläutert, wie die Daten mithilfe der drei relevanten <strong>MapReduce-Packages</strong> verarbeitet werden. Diese Packages sind:</p>
<ol>
<li><strong><code>preprocessing</code></strong> – Bereitet die Daten aus der CSV-Datei auf und aggregiert Flugbewegungen je Flughafen.</li>
<li><strong><code>countries</code></strong> – Fasst alle Flughäfen eines Landes zusammen und sortiert die Länder nach prozentualer Änderung.</li>
<li><strong><code>airports</code></strong> – Sortiert direkt die Flughäfen selbst nach prozentualer Änderung.</li>
</ol>
<h3 id="1-preprocessing">1. Preprocessing </h3>
<p>Ziel dieses ersten Jobs ist es, aus der großen CSV-Datei nur die relevanten und gültigen Datensätze herauszufiltern (Jahre <strong>2019</strong> bzw. <strong>2024</strong>, gesetzter Wert in <code>FLT_TOT_IFR_2</code>) und pro Flughafen eine aggregierte Zeile bereitzustellen, die sowohl die Gesamtbewegungen von 2019 als auch 2024 enthält.</p>
<h4 id="11-prepmapper">1.1 PrepMapper </h4>
<ul>
<li>
<p><strong>Input</strong>: Zeilen der Original-CSV aus HDFS.</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Überspringt die Header-Zeile.</li>
<li>Parst nur Zeilen mit gesetzter IFR-Spalte (<code>FLT_TOT_IFR_2</code>).</li>
<li>Lässt nur <code>YEAR=2019</code> oder <code>YEAR=2024</code> zu.</li>
<li>Gibt als <strong>Key</strong> den <code>airportCode</code> (z. B. <code>EDDF</code>), als <strong>Value</strong> den String <code>&lt;stateName&gt;,&lt;year&gt;,&lt;flightCount&gt;</code> aus.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe (Beispielwerte)</strong> :</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>EDDF    Germany,2019,12345
EDDF    Germany,2024,15600
...
</code></pre></li>
</ul>
<h4 id="12-prepcombiner">1.2 PrepCombiner </h4>
<ul>
<li>
<p><strong>Input</strong>: Ausgabe der jeweiligen lokalen Mapper-Instanz, gruppiert nach Key (<code>airportCode</code>).</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Summiert vorab die Flugbewegungen je <code>(airportCode, year)</code>, um die Datenmenge schon <strong>vor</strong> dem Shuffle zu reduzieren.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe (Beispielwerte)</strong> :</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>EDDB    Germany,89374,190120
EDDC    Germany,19753,5000
EBBR    Belgium,2019,20000
...
</code></pre><p>(Gleiche Struktur wie im Mapper, aber mit bereits aufsummierten Teilergebnissen)</p>
</li>
</ul>
<p>Ein <strong>Combiner</strong> ist sinnvoll, da Summation kommutativ + assoziativ ist und so die Netzwerkbelastung zwischen Mapper und Reducer sinkt.</p>
<h4 id="13-prepreducer">1.3 PrepReducer </h4>
<ul>
<li>
<p><strong>Input</strong>: Teilergebnisse der Combiner</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Finalisiert die Teilsummen der Combiner, sodass je <code>(airportCode, year)</code> eine Zeile übrig bleibt</li>
<li>kombiniert diese zu Zeilen, die jeweils die Werte beider Jahre enthalten <code>(total2019, total2024)</code>, sodass eine Zeile pro Flughafen entsteht</li>
</ul>
</li>
<li>
<p><strong>Ausgabe <a href="https://github.com/sky-ash/mapreduce-airtraffic/blob/main/output/preprocessing/part-r-00000">part-r-00000</a></strong> :</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>EBBR    Belgium,231172,196044
EBCI    Belgium,54426,61559
EDDB    Germany,89374,190120
EDDC    Germany,19753,10089
...
</code></pre><p>All diese Zeilen werden in <strong><a href="https://github.com/sky-ash/mapreduce-airtraffic/tree/main/output/preprocessing/">/output/preprocessing/</a></strong> geschrieben und bilden die Grundlage für die Auswertungen in den nächsten Schritten.</p>
<p><img src="public/output_preprocessing.png" alt="preprocessing_output"></p>
</li>
</ul>
<hr>
<h3 id="2-countries">2. Countries </h3>
<p>Ziel dieser Job-Kette ist es, <strong>alle Flughäfen eines Landes zu aggregieren</strong> und anschließend nach prozentualer Änderung zwischen den Jahren 2019 und 2024 zu sortieren. Dazu werden <strong>zwei aufeinanderfolgende</strong> MapReduce-Jobs ausgeführt:</p>
<ol>
<li><strong>Aggregation</strong>: Summiert pro Land die kumulierten Flugbewegungen (2019 &amp; 2024).</li>
<li><strong>Sortierung</strong>: Berechnet den prozentualen Unterschied und gibt die Länder in sortierter Reihenfolge aus.</li>
</ol>
<hr>
<h4 id="21-countrymapper">2.1 CountryMapper </h4>
<ul>
<li>
<p><strong>Input</strong>: Ausgabe aus dem Preprocessing (Key = <code>airportCode</code>, Value = <code>&lt;stateName&gt;,&lt;total2019&gt;,&lt;total2024&gt;</code>).</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Trennt den Value-String am Komma.</li>
<li>Übernimmt das <code>stateName</code> als neuen <strong>Key</strong>.</li>
<li>Erstellt als <strong>Value</strong> ein String-Paar <code>&lt;total2019&gt;,&lt;total2024&gt;</code>.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>Belgium    231172,196044
Belgium    54426,61559
Germany    89374,190120
Germany    19753,10089
...
</code></pre></li>
</ul>
<hr>
<h4 id="22-countryreducer">2.2 CountryReducer </h4>
<ul>
<li>
<p><strong>Input</strong>: Alle Werte (Value-Strings) pro Land, gruppiert nach Key (<code>stateName</code>).</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Summiert in einer Schleife alle 2019-Werte und 2024-Werte.</li>
<li>Schreibt anschließend das Land als <strong>Key</strong> und <code>&lt;aggregated2019&gt;,&lt;aggregated2024&gt;</code> als <strong>Value</strong>.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe <a href="https://github.com/sky-ash/mapreduce-airtraffic/blob/main/output/temp/part-r-00000">part-r-00000</a></strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>Austria     281488,246184
Belgium     285598,257603
Bulgaria    59491,58919
Croatia     44331,49663
...
</code></pre><p>Diese Zwischenergebnisse werden z. B. in <strong><a href="https://github.com/sky-ash/mapreduce-airtraffic/tree/main/output/temp/">/output/temp/</a></strong> gespeichert und dienen als Input für den Sortierschritt.</p>
</li>
</ul>
<hr>
<h4 id="23-cpercentagemapper">2.3 CPercentageMapper </h4>
<ul>
<li>
<p><strong>Input</strong>: Zwischenergebnis aus dem vorherigen Schritt (Key = <code>stateName</code>, Value = <code>&lt;aggregated2019&gt;,&lt;aggregated2024&gt;</code>).</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Parst die beiden Zahlen (2019 und 2024).</li>
<li>Berechnet den prozentualen Unterschied:<br>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>percentChange</mtext><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>2024</mn><mo>−</mo><mn>2019</mn><mo stretchy="false">)</mo></mrow><mn>2019</mn></mfrac><mo>×</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">\text{percentChange} = \frac{(2024 - 2019)}{2019} \times 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">percentChange</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2019</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">2024</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2019</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></span><br>
<em>(Sonderfall: Wenn 2019=0, wird ein default-Wert (+100 %) gewählt werden.)</em></li>
<li>Übergibt die Prozentzahl als <strong>Key</strong> (Integer), sodass Hadoop automatisch nach dieser Zahl sortiert, und übergibt <code>&lt;stateName&gt;,&lt;aggregated2019&gt;,&lt;aggregated2024&gt;</code> als <strong>Value</strong>.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe (Beispieldaten)</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>-15  France,3523456,2981501
-12  Germany,473117,417943
+11  Albania,19999,22199
...
</code></pre></li>
</ul>
<p><em>(Hier entspricht der Key dem ganzzahligen Prozentwert.)</em></p>
<hr>
<h4 id="24-cpercentagereducer">2.4 CPercentageReducer </h4>
<ul>
<li>
<p><strong>Input</strong>: Wertegruppen, die nach Key (Prozentwert) sortiert eintreffen.</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Nimmt den Prozentwert aus dem Key.</li>
<li>Liest das Land und die beiden Jahreswerte aus dem Value.</li>
<li>Gibt das Land als <strong>Key</strong> und <code>&lt;percentChange&gt;,&lt;aggregated2019&gt;,&lt;aggregated2024&gt;</code> als <strong>Value</strong> aus.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe <a href="https://github.com/sky-ash/mapreduce-airtraffic/blob/main/output/countries/part-r-00000">part-r-00000</a></strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>Cyprus	        -100,35544,0
Lithuania	      -100,46565,0
Latvia	        -36,86722,55476
Slovenia	      -24,28331,21513
...
</code></pre><p>Diese finale Liste der Länder, sortiert nach prozentualer Veränderung, wird in <strong><a href="https://github.com/sky-ash/mapreduce-airtraffic/tree/main/output/countries/">/output/countries/</a></strong> hinterlegt.</p>
<p><img src="public/output_countries.png" alt="countries_output"></p>
</li>
</ul>
<hr>
<h3 id="3-airports">3. Airports </h3>
<p>Hier geht es um die <strong>prozentuale Veränderung</strong> der Flugbewegungen <strong>pro Flughafen</strong>. Zusätzlich soll im Endergebnis auch das zugehörige Land ausgegeben werden.</p>
<hr>
<h4 id="31-apercentagemapper">3.1 APercentageMapper </h4>
<ul>
<li>
<p><strong>Input</strong>: Wieder das Preprocessing-Ergebnis (Key = <code>airportCode</code>, Value = <code>&lt;stateName&gt;,&lt;total2019&gt;,&lt;total2024&gt;</code>).</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Parst die beiden Werte für 2019 und 2024.</li>
<li>Berechnet die prozentuale Änderung.</li>
<li>Gibt diese als <strong>Key</strong> (Integer-Prozentwert) aus und fügt <code>&lt;airportCode&gt;,&lt;stateName&gt;,&lt;total2019&gt;,&lt;total2024&gt;</code> in den Value.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe (Beispieldaten)</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>+4   EDDF,Germany,458273,478013
+2   EGLL,United Kingdom,690050,703112
+8   LOWI,Austria,2814,3032
...
</code></pre></li>
</ul>
<hr>
<h4 id="32-apercentagereducer">3.2 APercentageReducer </h4>
<ul>
<li>
<p><strong>Input</strong>: Key = prozentuale Änderung (Integer), Values = Listen von <code>&lt;airportCode&gt;,&lt;stateName&gt;,&lt;total2019&gt;,&lt;total2024&gt;</code>.</p>
</li>
<li>
<p><strong>Funktionsweise</strong>:</p>
<ul>
<li>Liest den Prozentwert aus dem Key.</li>
<li>Trennt die Werte aus dem Value.</li>
<li>Gibt den <code>airportCode</code> als <strong>Key</strong> und <code>&lt;percentChange&gt;,&lt;total2019&gt;,&lt;total2024&gt;,&lt;stateName&gt;</code> als <strong>Value</strong> zurück.</li>
</ul>
</li>
<li>
<p><strong>Ausgabe <a href="https://github.com/sky-ash/mapreduce-airtraffic/blob/main/output/airports/part-r-00000">part-r-00000</a></strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>ENSG    -100,2852,0,Norway
EDDT    -100,191591,0,Germany
EGCC    -100,202883,0,United Kingdom
ENAL    -100,8128,0,Norway
...
</code></pre><p>Damit entsteht in <strong><a href="https://github.com/sky-ash/mapreduce-airtraffic/tree/main/output/airports/">/output/airports/</a></strong> eine Liste aller Flughäfen, sortiert nach prozentualer Veränderung.</p>
<p><img src="public/output_airports.png" alt="airports_output"></p>
</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>